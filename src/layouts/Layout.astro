---
import Header from "../components/Header.astro";
import CustomCursor from "../components/CustomCursor";
import "../styles/global.css";

interface Props {
  title: string;
  description?: string;
}

const { title, description = "Un blog sobre desarrollo web y tecnología" } =
  Astro.props;
---

<!doctype html>
<html lang="es" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/refuge-isotipo.png" />
    <meta name="generator" content={Astro.generator} />
    <style is:inline>
      .theme-toggle .sun {
        display: none;
      }
      .theme-toggle .moon {
        display: block;
      }

      :root.dark .theme-toggle .sun {
        display: block;
      }
      :root.dark .theme-toggle .moon {
        display: none;
      }
    </style>
    <script is:inline>
      (function () {
        const savedTheme = localStorage.getItem("theme");
        const systemTheme = window.matchMedia("(prefers-color-scheme: dark)")
          .matches
          ? "dark"
          : "light";
        const theme = savedTheme || systemTheme;
        document.documentElement.classList.toggle("dark", theme === "dark");
      })();
    </script>
    <title>{title}</title>
    <meta name="description" content={description} />
  </head>
  <body
    class="min-h-screen bg-refuge-bg selection:bg-refuge-accent/20 overflow-x-hidden"
  >
    <!-- Organic Background Shapes -->
    <div
      class="organic-shape w-[500px] h-[500px] bg-refuge-accent -top-20 -left-20 opacity-10"
    >
    </div>
    <div
      class="organic-shape w-[400px] h-[400px] bg-refuge-surface -bottom-20 -right-20 opacity-20"
    >
    </div>
    <div
      class="organic-shape w-[300px] h-[300px] bg-refuge-accent top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-5"
    >
    </div>

    <div class="max-w-screen-xl mx-auto px-6 md:px-12 lg:px-24">
      <Header />
      <main class="py-24 sm:py-32">
        <div class="max-w-3xl">
          <slot />
        </div>
      </main>

      <footer class="py-16 border-t border-refuge-surface">
        <div
          class="flex flex-col md:flex-row justify-between items-center gap-8 text-sm font-light tracking-wide text-refuge-muted"
        >
          <p>Hecho con ❤️ por Gontzi</p>
          <div class="flex gap-8">
            <a href="/" class="hover:text-refuge-dark transition-colors"
              >inicio</a
            >
            <a href="/blog" class="hover:text-refuge-dark transition-colors"
              >artículos</a
            >
            <a href="/tags" class="hover:text-refuge-dark transition-colors"
              >etiquetas</a
            >
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
